<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/polymer-flex-layout/polymer-flex-layout.html">

<polymer-element name="goldfish-inbox-item" attributes="thread" noscript>
    <template>
        <polymer-flex-layout align="stretch"></polymer-flex-layout>
        <!-- STYLES -->
        <link href="inbox-item.css" rel="stylesheet" type="text/css">
        <template bind="{{ thread.recentEvent }}">
            <polymer-flex-layout isContainer vertical align="center" justify="center" class="person-wrapper">
                <div class="image-wrapper">
                    <img src="{{ fromIdentity.photoUrl }}" class="person-image {{ fromIdentity.linkedTo.personType }}">
                    <img class="channel-icon" src="assets/icons/channels/connector-{{ channelName }}.svg">
                </div>
                <div class="person-type {{ fromIdentity.linkedTo.personType }}">
                    {{ fromIdentity.linkedTo.personType }}</div>
            </polymer-flex-layout>
            <polymer-flex-layout isContainer vertical flex>
                <div class="name">{{ fromIdentity.name }}</div>
                <div class="subject">{{ description }}</div>
                <div class="preview" flex>{{ content }}</div>
                <div class="badges">
                    <template repeat="{{ fromIdentity.linkedTo.badges }}">
                        <img class="badge-icon" src="assets/icons/badges/{{ badgeType }}.svg">
                    </template>
                </div>
            </polymer-flex-layout>
        </template>
        <div class="time">{{ thread.shortTime }}</div>
    </template>
</polymer-element>