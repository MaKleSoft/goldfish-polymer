<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/polymer-flex-layout/polymer-flex-layout.html">
<link rel="import" href="../../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../icons/goldfish.html">
<link rel="import" href="../icons/badges.html">
<link rel="import" href="../icons/channels.html">

<polymer-element name="goldfish-inbox-item" attributes="thread" noscript>
    <template>
        <polymer-flex-layout align="stretch"></polymer-flex-layout>
        <!-- STYLES -->
        <link href="inbox-item.css" rel="stylesheet" type="text/css">
        <template bind="{{ thread.recentEvent }}">
            <polymer-flex-layout isContainer vertical align="center" justify="center" class="person-wrapper">
                <div class="image-wrapper">
                    <img src="{{ fromIdentity.photoUrl }}" class="person-image {{ fromIdentity.linkedTo.personType }}">
                    <core-icon class="channel-icon" icon="channels:{{ channelName }}"></core-icon>
                </div>
                <div class="person-type {{ fromIdentity.linkedTo.personType }}">
                    {{ fromIdentity.linkedTo.personType }}</div>
            </polymer-flex-layout>
            <polymer-flex-layout isContainer vertical flex>
                <div class="name">{{ fromIdentity.name }}</div>
                <div class="subject">{{ description }}</div>
                <div class="preview" flex>{{ content }}</div>
                <div class="badges">
                    <template repeat="{{ fromIdentity.linkedTo.badges }}">
                        <core-icon class="badge-icon" icon="badges:{{ badgeType }}"></core-icon>
                    </template>
                </div>
            </polymer-flex-layout>
        </template>
        <div class="time">
            <core-icon icon="goldfish:clock" size=""></core-icon>
            {{ thread.shortTime }}
        </div>
    </template>
</polymer-element>